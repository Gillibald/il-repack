<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>netcoreapp2.1;netstandard2.0;net40</TargetFrameworks>
    <RootNamespace>ILRepacking</RootNamespace>
    <AssemblyName>ILRepack</AssemblyName>
	<StartupObject Condition="'$(OutputType)' == 'Exe'">ILRepacking.Application</StartupObject>
	<IsNetFullFramework Condition="$(TargetFramework.Contains('netstandard')) OR $(TargetFramework.Contains('netcoreapp'))">false</IsNetFullFramework>
	<IsNetFullFramework Condition="'$(IsNetFullFramework)' == ''">true</IsNetFullFramework>
	<DefineConstants Condition="'$(IsNetFullFramework)' == 'true'">$(DefineConstants);ISNETFULLFRAMEWORK;</DefineConstants>
  </PropertyGroup>
  <ItemGroup Condition="'$(IsNetFullFramework)' == 'true'">
    <PackageReference Include="Mono.Posix" Version="4.0.0" />
  </ItemGroup>
  <ItemGroup Condition="'$(IsNetFullFramework)' != 'true'">
    <PackageReference Include="Mono.Posix.NETStandard" Version="1.0.0" />
  </ItemGroup>
  <ItemGroup Condition="'$(IsNetFullFramework)' == 'true'">
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="System" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\deps\bamlparser\BamlParser.csproj" />
    <ProjectReference Include="..\deps\cecil\Mono.Cecil.csproj" />
    <ProjectReference Include="..\deps\fasterflect\src\Fasterflect.Netstandard\Fasterflect.Netstandard.csproj" />
  </ItemGroup>
</Project>